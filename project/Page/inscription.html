<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription</title>
    <link rel="stylesheet" href="../CSS/inscription.css">
</head>
<body>
    <div class="banner">
<nav class="navbar">
    <a href="index.html" class="logo">My DRC Shop</a>
    <a href="#" class="affiche" onclick="ouvrir()">
        <!-- Icône burger SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000">
            <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
        </svg>
    </a>
    <ul class="menu" id="menu">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="Apropos.html" class="active">A propos</a></li>
        <li><a href="catalogue.html">Catalogue</a></li>
        <li><a href="connexion.html">Connexion</a></li>
        <li><a href="inscription.html">Inscription</a></li>
        <li><a href="panier.html">panier</a></li>
        <li>
            <a href="#" onclick="fermeture()">
                <!-- Icône fermer SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000">
                    <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                </svg>
            </a>
        </li>
    </ul>
</nav>
    <header>
    <div class="content">
    <h1>Inscription</h1> 
    </div>        
</header>
<main>
    <section class="inscription"> <h2>Créer un compte</h2>
        <form id="registrationForm">
            <label for="name">Nom:</label>
            <input type="text" id="name" required placeholder="Veuillez écrire votre nom"><br>
            <br>
            <label for="surname">Prenom:</label>
            <input type="text" id="surname" required placeholder="Veuillez écrire votre Prenom"><br>
            <br>
            <label for="email">Email:</label>
            <input type="email" id="email" required placeholder="Veuillez écrire votre Email"><br>
            <br>
            <label for="password">Mot de passe:</label>
            <input type="password" id="password" required placeholder="Veuillez écrire votre Mot de passe"><br>
            <br>
            <button type="submit">S'inscrire </button>
        </form>
    </section>
    <button id="envoyer-commande" style="background:chocolate; color:white; padding:8px 16px; border:none; border-radius:5px; margin-top:20px;">Envoyer la commande</button>
    <!-- Fenêtre modale pour l'adresse de livraison -->
    <div id="modal-livraison" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:9999; justify-content:center; align-items:center;">
      <div style="background:white; padding:30px; border-radius:10px; min-width:300px; text-align:center; position:relative;">
        <span id="close-modal" style="position:absolute; top:10px; right:15px; cursor:pointer; font-size:22px;">&times;</span>
        <h3>Adresse de livraison</h3>
        <form id="form-livraison-modal">
          <input type="text" id="commune" name="commune" required placeholder="Commune" style="width:90%; padding:8px; margin-bottom:10px;"><br>
          <input type="text" id="quartier" name="quartier" required placeholder="Quartier" style="width:90%; padding:8px; margin-bottom:10px;"><br>
          <input type="text" id="numero" name="numero" required placeholder="Numéro" style="width:90%; padding:8px; margin-bottom:10px;"><br>
          <input type="text" id="heure" name="heure" required placeholder="Heure de livraison" style="width:90%; padding:8px; margin-bottom:15px;"><br>
          <button type="submit" style="background:chocolate; color:white; padding:8px 16px; border:none; border-radius:5px;">Envoyer la commande</button>
        </form>
      </div>
    </div>
</main>
<footer>
    <p>&copy;2025 RDC Fashion.</p>
</footer>
    <script src="../js/script.js"></script>
    <script>
// Ouvre la modale au clic sur le bouton
var boutonCommande = document.querySelector('#envoyer-commande');
boutonCommande.onclick = function(e) {
    e.preventDefault();
    document.getElementById('modal-livraison').style.display = 'flex';
};
// Ferme la modale
 document.getElementById('close-modal').onclick = function() {
    document.getElementById('modal-livraison').style.display = 'none';
};
// Quand le client clique sur 'S'inscrire', on affiche la popup d'adresse
 document.getElementById('registrationForm').onsubmit = function(e) {
    e.preventDefault();
    alert('Veuillez confirmer votre adresse de livraison pour finaliser votre inscription et commande.');
    document.getElementById('modal-livraison').style.display = 'flex';
};
// Soumission du formulaire modale
 document.getElementById('form-livraison-modal').onsubmit = function(e) {
    e.preventDefault();
    var commune = document.getElementById('commune').value;
    var quartier = document.getElementById('quartier').value;
    var numero = document.getElementById('numero').value;
    var heure = document.getElementById('heure').value;
    // Récupère les infos du formulaire d'inscription
    var nom = document.getElementById('name').value;
    var prenom = document.getElementById('surname').value;
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;
    var infosClient = 'Infos client :\nNom : ' + nom + '\nPrénom : ' + prenom + '\nEmail : ' + email + '\nMot de passe : ' + password + '\n';
    var panier = JSON.parse(localStorage.getItem('panier')) || [];
    var message = infosClient + 'Nouvelle commande :\n';
    panier.forEach(function(prod) {
        message += prod.nom + ' x ' + prod.quantite + ' = ' + prod.prix + '\n';
    });
    message += 'Adresse de livraison :\nCommune : ' + commune + '\nQuartier : ' + quartier + '\nNuméro : ' + numero + '\nHeure de livraison : ' + heure;
    var whatsappUrl = 'https://wa.me/243821315889?text=' + encodeURIComponent(message);
    window.open(whatsappUrl, '_blank');
    alert('Votre inscription et commande ont été envoyées sur WhatsApp !');
    document.getElementById('modal-livraison').style.display = 'none';
};
    </script>
</body>
</html>